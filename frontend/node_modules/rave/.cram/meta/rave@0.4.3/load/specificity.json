{"absId":"rave@0.4.3/load/specificity","pluginId":"curl/loader/cjsm11","resourceId":"rave@0.4.3/load/specificity","loader":true,"source":"define('rave@0.4.3/load/specificity',['require','exports','module'],function(require,exports,module,define){/** @license MIT License (c) copyright 2014 original authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexports.compare = compareFilters;\nexports.pkgSpec = packageSpecificity;\nexports.patSpec = patternSpecificity;\nexports.extSpec = extensionSpecificity;\nexports.predSpec = predicateSpecificity;\n\nfunction packageSpecificity (filter) {\n\tif (!filter.package || filter.package === '*') return 0;\n//\telse if (filter.package.indexOf('*') >= 0) return 1;\n\telse return 1;\n}\n\nfunction patternSpecificity (filter) {\n\treturn filter.pattern ? 1 : 0;\n}\n\nfunction extensionSpecificity (filter) {\n\treturn filter.extensions && filter.extensions.length\n\t\t? 1 / filter.extensions.length\n\t\t: 0;\n}\n\nfunction predicateSpecificity (filter) {\n\treturn filter.predicate ? 1 : 0;\n}\n\nfunction compareFilters (a, b) {\n\t// packages have highest priority\n\tvar diff = packageSpecificity(a) - packageSpecificity(b);\n\t// after packages, patterns are priority\n\tif (diff === 0) diff = patternSpecificity(a) - patternSpecificity(b);\n\t// next priority is extensions\n\tif (diff === 0) diff = extensionSpecificity(a) - extensionSpecificity(b);\n\t// last priority is custom predicates\n\tif (diff === 0) diff = predicateSpecificity(a) - predicateSpecificity(b);\n\t// sort higher specificity filters to beginning of array\n\treturn -diff;\n}\n\n\n});\n\n","modules":[{"pos":0,"count":107,"id":"rave@0.4.3/load/specificity","depList":["require","exports","module"],"factory":true,"argList":["require","exports","module","define"]}],"compileTime":"2014-11-17T20:58:47.305Z"}