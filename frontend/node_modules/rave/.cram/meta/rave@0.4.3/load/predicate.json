{"absId":"rave@0.4.3/load/predicate","pluginId":"curl/loader/cjsm11","resourceId":"rave@0.4.3/load/predicate","loader":true,"source":"define('rave@0.4.3/load/predicate',['require','exports','module'],function(require,exports,module,define){/** @license MIT License (c) copyright 2014 original authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexports.composePredicates = composePredicates;\nexports.createPackageMatcher = createPackageMatcher;\nexports.createPatternMatcher = createPatternMatcher;\nexports.createExtensionsMatcher = createExtensionsMatcher;\n\nfunction composePredicates (matchPackage, matchPattern, matchExtensions, override) {\n\tvar predicate, predicates = [];\n\n\tpredicate = override.predicate || always;\n\n\tif (override.package && override.package !== '*') {\n\t\tpredicates.push(matchPackage);\n\t}\n\n\tif (override.pattern) {\n\t\tpredicates.push(matchPattern);\n\t}\n\n\tif (override.extensions) {\n\t\tpredicates.push(matchExtensions);\n\t}\n\n\treturn predicates.length > 0\n\t\t? testAllPredicates\n\t\t: predicate;\n\n\tfunction testAllPredicates (load) {\n\t\tfor (var i = 0, len = predicates.length; i < len; i++) {\n\t\t\tif (!predicates[i](load)) return false;\n\t\t}\n\t\treturn predicate.apply(this, arguments);\n\t}\n}\n\nfunction createPackageMatcher (samePackage, override) {\n\treturn function (load) {\n\t\treturn samePackage(load.name, override.package);\n\t};\n}\n\nfunction createPatternMatcher (override) {\n\tvar patternRx = typeof override.pattern === 'string'\n\t\t? new RegExp(override.pattern)\n\t\t: override.pattern;\n\treturn function (load) {\n\t\treturn patternRx.test(load.name);\n\t};\n}\n\nfunction createExtensionsMatcher (override) {\n\tvar extensions = override.extensions && override.extensions.map(function (ext) {\n\t\treturn ext.charAt(0) === '.' ? ext : '.' + ext;\n\t});\n\treturn function (load) {\n\t\tvar name = load.name;\n\t\treturn extensions.some(function (ext) {\n\t\t\treturn name.slice(-ext.length) === ext;\n\t\t});\n\t};\n}\n\nfunction always () { return true; }\n\n});\n\n","modules":[{"pos":0,"count":105,"id":"rave@0.4.3/load/predicate","depList":["require","exports","module"],"factory":true,"argList":["require","exports","module","define"]}],"compileTime":"2014-11-17T20:58:47.305Z"}