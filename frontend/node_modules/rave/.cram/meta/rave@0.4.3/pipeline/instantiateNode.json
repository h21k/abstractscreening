{"absId":"rave@0.4.3/pipeline/instantiateNode","pluginId":"curl/loader/cjsm11","resourceId":"rave@0.4.3/pipeline/instantiateNode","loader":true,"source":"define('rave@0.4.3/pipeline/instantiateNode',['require','exports','module'],function(require,exports,module,define){/** @license MIT License (c) copyright 2014 original authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\nvar findRequires = require('../lib/find/requires');\n\nmodule.exports = instantiateNode;\n\nfunction instantiateNode (nodeFactory) {\n\treturn function (load) {\n\t\tvar loader, deps, factory;\n\n\t\tloader = load.metadata.rave.loader;\n\t\tdeps = findOrThrow(load);\n\n\t\tfactory = nodeFactory(loader, load);\n\n\t\treturn {\n\t\t\tdeps: deps,\n\t\t\texecute: function () {\n\t\t\t\treturn new Module(factory.apply(this, arguments));\n\t\t\t}\n\t\t};\n\t}\n}\n\nfunction findOrThrow (load) {\n\ttry {\n\t\treturn findRequires(load.source);\n\t}\n\tcatch (ex) {\n\t\tex.message += ' ' + load.name + ' ' + load.address;\n\t\tthrow ex;\n\t}\n}\n\n\n});\n\n","modules":[{"pos":0,"count":115,"id":"rave@0.4.3/pipeline/instantiateNode","depList":["require","exports","module"],"factory":true,"argList":["require","exports","module","define"],"requires":[{"id":"rave@0.4.3/lib/find/requires","pos":254,"count":31}]}],"compileTime":"2014-11-17T20:58:47.367Z"}